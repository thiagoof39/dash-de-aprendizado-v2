<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Interativo: Revolucionando o Aprendizado com IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: Evolved into a holistic learning ecosystem. A new central section, "The 6 Lenses of Learning," acts as a hub to explore concepts from Neuroscience, Cognitive Science, Educational Psychology, Social Psychology, Andragogy, and Sociology of Education. Each "lens" provides a summary and links to a new, corresponding interactive tool. This structure organizes a vast amount of information cleanly. The goal is to make the application the definitive, all-in-one tool for learning how to learn by integrating actionable tools based on a multi-disciplinary scientific foundation. -->
    <!-- Visualization & Content Choices: 1. New Feature: 6 Lenses Hub -> Goal: Organize/Inform -> Viz: Interactive Card Layout -> Interaction: Click to reveal info and tool links -> Justification: Provides a clear, engaging entry point to complex new information. 2. New Tool (Ed. Psychology): Mindset Check -> Goal: Apply/Diagnose -> Viz: Interactive Quiz -> Interaction: User answers questions, gets AI feedback -> Justification: Makes the abstract concept of "growth mindset" personal and actionable. 3. New Tool (Social Psychology): Study Group Charter Generator -> Goal: Apply/Collaborate -> Viz: Form + AI Output -> Interaction: User inputs group details, Gemini generates a charter -> Justification: Applies social learning theory in a practical, collaborative tool. 4. New Tool (Sociology): Environment Optimizer -> Goal: Apply/Reflect -> Viz: Interactive Checklist -> Interaction: User checks off items, progress is saved -> Justification: Addresses the often-overlooked impact of one's environment. 5. Enhancement (Andragogy): The AI Plan Generator now includes a "problem-to-solve" input, making learning relevant and problem-centered for adults. 6. Enhancement (Cognitive Science): Added a Spaced Repetition planner to the tools section. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FDFBF8; color: #4A4A4A; }
        .chart-container { position: relative; width: 100%; max-width: 400px; margin-left: auto; margin-right: auto; height: 400px; max-height: 400px; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .active .accordion-content { max-height: 1500px; transition: max-height 0.5s ease-in; }
        .active .accordion-icon { transform: rotate(180deg); }
        .step-circle { transition: all 0.3s ease; }
        .step-circle.active { background-color: #A88B79; color: #FFFFFF; transform: scale(1.1); }
        .gemini-loader { border: 4px solid #f3f3f3; border-top: 4px solid #A88B79; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #gemini-modal, .tool-modal { transition: opacity 0.3s ease; }
        .progress-bar-bg { background-color: #F4E9E1; }
        .progress-bar-fill { background-color: #A88B79; transition: width 0.5s ease-in-out; }
        .lens-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .lens-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
    </style>
</head>
<body class="antialiased">

    <header class="bg-[#FDFBF8]/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-[#A88B79]">O Ecossistema da Aprendizagem</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#paradigma" class="text-gray-600 hover:text-[#A88B79] transition">Paradigma</a>
                <a href="#lentes" class="text-gray-600 hover:text-[#A88B79] transition">As 6 Lentes</a>
                <a href="#metodo" class="text-gray-600 hover:text-[#A88B79] transition">O Método</a>
                <a href="#ferramentas" class="text-gray-600 hover:text-[#A88B79] transition">Ferramentas</a>
                <a href="#plano-ia" class="text-gray-600 hover:text-[#A88B79] transition">Plano com IA</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A88B79]"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 flex flex-col space-y-2">
            <a href="#paradigma" class="block text-gray-600 hover:text-[#A88B79] transition py-2">Paradigma</a>
            <a href="#lentes" class="block text-gray-600 hover:text-[#A88B79] transition py-2">As 6 Lentes</a>
            <a href="#metodo" class="block text-gray-600 hover:text-[#A88B79] transition py-2">O Método</a>
            <a href="#ferramentas" class="block text-gray-600 hover:text-[#A88B79] transition py-2">Ferramentas</a>
            <a href="#plano-ia" class="block text-gray-600 hover:text-[#A88B79] transition py-2">Plano com IA</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="paradigma" class="mb-24 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-[#A88B79] mb-4">Uma Nova Forma de Aprender</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12">Aprender não é um ato isolado, mas um ecossistema complexo. Esta plataforma integra os conhecimentos da neurociência, ciência cognitiva e psicologia para oferecer uma abordagem holística e definitiva para a maestria em qualquer área.</p>
        </section>

        <section id="lentes" class="mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-[#A88B79] text-center mb-4">As 6 Lentes da Aprendizagem</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 text-center mb-12">Para dominar o aprendizado, devemos observá-lo de múltiplas perspectivas. Cada ciência oferece uma "lente" única que revela segredos para otimizar nossa mente. Explore cada uma para desbloquear ferramentas e insights.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Neurociência</h3>
                        <p class="text-gray-600 mb-4">Entenda o 'hardware': como seu cérebro fisicamente cria memória, a importância do sono e o papel das emoções.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="neuroscience">Ler o Guia Completo →</button>
                </div>
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Ciência Cognitiva</h3>
                        <p class="text-gray-600 mb-4">Domine o 'software': os processos mentais de organização, recuperação e retenção de informação a longo prazo.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="cognitive">Ler o Guia Completo →</button>
                </div>
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Psicologia Educacional</h3>
                        <p class="text-gray-600 mb-4">Cultive a mentalidade certa. Descubra o poder do 'growth mindset' e da motivação intrínseca.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="educational">Ler o Guia Completo →</button>
                </div>
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Psicologia Social</h3>
                        <p class="text-gray-600 mb-4">Aprender é um ato social. Utilize o poder da colaboração, do ensino e da comunidade para acelerar seu progresso.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="social">Ler o Guia Completo →</button>
                </div>
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Andragogia</h3>
                        <p class="text-gray-600 mb-4">Como adultos aprendem melhor. Conecte o conhecimento a problemas reais e assuma o controle do seu caminho.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="andragogy">Ler o Guia Completo →</button>
                </div>
                <div class="lens-card bg-white p-6 rounded-lg shadow-lg border border-gray-200 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Sociologia da Educação</h3>
                        <p class="text-gray-600 mb-4">Seu ambiente molda seu sucesso. Otimize seu espaço físico e social para criar um ecossistema de alta performance.</p>
                    </div>
                    <button class="font-semibold text-[#A88B79] hover:underline text-left mt-4 open-guide-modal" data-guide="sociology">Ler o Guia Completo →</button>
                </div>
            </div>
        </section>
        
        <section id="metodo" class="mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-[#A88B79] text-center mb-4">O Método Mestre</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 text-center mb-12">Este é um roteiro de 20 passos para aprender qualquer coisa. Acompanhe seu progresso marcando os passos que você já pratica e domina.</p>
            <div class="max-w-4xl mx-auto mb-8">
                <div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-gray-700">Seu Progresso</span><span id="progress-text" class="text-sm font-medium text-[#A88B79]">0/18 Passos</span></div>
                <div class="w-full progress-bar-bg rounded-full h-2.5"><div id="progress-bar" class="progress-bar-fill h-2.5 rounded-full" style="width: 0%"></div></div>
            </div>
            <div id="accordion-container" class="space-y-4 max-w-4xl mx-auto"></div>
        </section>
        
        <section id="ferramentas" class="mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-[#A88B79] text-center mb-4">Ferramentas Práticas</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 text-center mb-12">Aplique os conceitos de aprendizagem com estas ferramentas interativas. Use o timer para focar, a música para relaxar e o diário para refletir.</p>
            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200 text-center">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">Timer Pomodoro</h3>
                    <div id="pomodoro-timer" class="text-6xl font-bold text-[#A88B79] my-4">25:00</div>
                    <div class="flex justify-center space-x-4"><button id="pomodoro-start" class="bg-[#A88B79] text-white px-4 py-2 rounded-lg hover:bg-[#937562] transition">Iniciar</button><button id="pomodoro-reset" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Resetar</button></div>
                    <div id="pomodoro-message" class="text-sm text-gray-600 mt-2 h-5"></div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200 text-center">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">Música para Foco</h3>
                    <p class="text-gray-600 mb-6">Melodia suave (60bpm) para ajudar a induzir o estado Alfa de aprendizado.</p>
                    <button id="focus-music-toggle" class="bg-[#A88B79] text-white px-6 py-4 rounded-full hover:bg-[#937562] transition text-2xl">▶</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200 md:col-span-1">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">Diário de Aprendizagem</h3>
                    <textarea id="learning-journal" class="w-full h-32 p-2 border border-gray-300 rounded-md focus:ring-[#A88B79] focus:border-[#A88B79]" placeholder="Reflita sobre o que aprendeu hoje..."></textarea>
                    <button id="save-journal" class="mt-2 w-full bg-[#A88B79] text-white py-2 rounded-lg hover:bg-[#937562] transition">Salvar Anotação</button>
                    <p class="text-xs text-gray-500 mt-2">Suas anotações são salvas no seu navegador.</p>
                </div>
            </div>
        </section>

        <section id="plano-ia" class="mb-24 bg-white p-8 rounded-lg shadow-lg border border-gray-200">
            <h2 class="text-3xl md:text-4xl font-bold text-[#A88B79] text-center mb-4">Lente 5: Andragogia - Plano com IA</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 text-center mb-12">Adultos aprendem melhor quando o conhecimento resolve um problema real. Use a IA para criar um plano de estudos que não seja apenas sobre aprender um tópico, mas sobre aplicar esse conhecimento para alcançar um objetivo prático em sua vida.</p>
            <div class="max-w-2xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div><label for="subject" class="block text-sm font-medium text-gray-700 mb-1">O que você quer aprender?</label><input type="text" id="subject" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#A88B79] focus:border-[#A88B79]" placeholder="Ex: Finanças Pessoais"></div>
                <div><label for="timeframe" class="block text-sm font-medium text-gray-700 mb-1">Tempo disponível</label><input type="text" id="timeframe" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#A88B79] focus:border-[#A88B79]" placeholder="Ex: 30 dias"></div>
                <div class="md:col-span-2"><label for="problem" class="block text-sm font-medium text-gray-700 mb-1">Qual problema real você quer resolver com este conhecimento?</label><input type="text" id="problem" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#A88B79] focus:border-[#A88B79]" placeholder="Ex: Criar um orçamento e começar a investir"></div>
                <div class="md:col-span-2"><label for="style" class="block text-sm font-medium text-gray-700 mb-1">Estilo de aprendizado preferido</label><select id="style" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#A88B79] focus:border-[#A88B79]"><option>Prático (projetos, exercícios)</option><option>Visual (diagramas, vídeos)</option><option>Leitura/Escrita (textos, resumos)</option><option>Auditivo (discussões, podcasts)</option><option>Equilibrado (uma mistura de tudo)</option></select></div>
            </div>
            <div class="text-center mb-8"><button id="generate-plan-btn" class="bg-[#A88B79] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#937562] transition shadow-md">✨ Gerar Plano de Ação</button></div>
            <div id="study-plan-container" class="mt-8"><div id="plan-loader" class="hidden justify-center items-center"><div class="gemini-loader"></div></div><div id="plan-output" class="prose max-w-none text-gray-700"></div></div>
        </section>

    </main>
    
    <div id="gemini-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b"><h3 id="modal-title" class="text-xl font-bold text-[#A88B79]">Explicação do Conceito</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div>
            <div class="p-6 overflow-y-auto"><div class="modal-loader flex justify-center items-center py-8"><div class="gemini-loader"></div></div><div class="modal-content prose max-w-none text-gray-700 hidden"></div></div>
        </div>
    </div>
    
    <div id="guide-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b"><h3 id="guide-modal-title" class="text-xl font-bold text-[#A88B79]">Guia Completo</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div>
            <div id="guide-modal-content" class="p-6 overflow-y-auto prose max-w-none"></div>
        </div>
    </div>

    <!-- Tool Modals -->
    <div id="mindset-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full"><div class="flex justify-between items-center p-4 border-b"><h3 class="text-xl font-bold text-[#A88B79]">Lente 3: Mindset Check</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div><div class="p-6"><p class="mb-4 text-gray-600">Responda honestamente. Sua mentalidade determina seu potencial.</p><div id="mindset-quiz"></div><div id="mindset-result" class="mt-4 prose max-w-none hidden"></div></div></div>
    </div>
    <div id="charter-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full"><div class="flex justify-between items-center p-4 border-b"><h3 class="text-xl font-bold text-[#A88B79]">Lente 4: Gerador de Contrato de Grupo</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div><div class="p-6"><p class="mb-4 text-gray-600">Defina as bases para um grupo de estudos de sucesso. A IA criará um contrato para alinhar todos.</p><div class="space-y-4"><input type="text" id="group-subject" placeholder="Tópico de Estudo" class="w-full p-2 border rounded"><input type="text" id="group-members" placeholder="Nomes dos membros (separados por vírgula)" class="w-full p-2 border rounded"><input type="text" id="group-goal" placeholder="Qual o objetivo principal do grupo?" class="w-full p-2 border rounded"><button id="generate-charter-btn" class="w-full bg-[#A88B79] text-white py-2 rounded-lg hover:bg-[#937562]">Gerar Contrato</button></div><div id="charter-result" class="mt-4 prose max-w-none hidden"></div></div></div>
    </div>
    <div id="environment-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full"><div class="flex justify-between items-center p-4 border-b"><h3 class="text-xl font-bold text-[#A88B79]">Lente 6: Otimizador de Ambiente</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div><div class="p-6"><p class="mb-4 text-gray-600">Um ambiente otimizado remove o atrito do aprendizado. Marque os itens que você já implementou.</p><div id="environment-checklist" class="space-y-3"></div></div></div>
    </div>
    <div id="spaced-repetition-modal" class="tool-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full"><div class="flex justify-between items-center p-4 border-b"><h3 class="text-xl font-bold text-[#A88B79]">Lente 2: Planejador de Revisão Espaçada</h3><button class="close-modal-btn text-gray-500 hover:text-gray-800">&times;</button></div><div class="p-6"><p class="mb-4 text-gray-600">Esquecer é natural. Combata a 'curva do esquecimento' planejando suas revisões. Insira um conceito que aprendeu hoje.</p><input type="text" id="concept-input" placeholder="Ex: Teoria das Múltiplas Inteligências" class="w-full p-2 border rounded mb-4"><button id="plan-reviews-btn" class="w-full bg-[#A88B79] text-white py-2 rounded-lg hover:bg-[#937562]">Calcular Datas de Revisão</button><div id="review-dates" class="mt-4 prose max-w-none hidden"></div></div></div>
    </div>


    <footer class="bg-[#F4E9E1] mt-20"><div class="container mx-auto px-6 py-8 text-center text-[#A88B79]"><p class="font-semibold">Você é o arquiteto do seu futuro.</p><p class="text-sm mt-2">Domine o ecossistema da aprendizagem e liberte seu potencial máximo.</p></div></footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });
            document.querySelectorAll('#mobile-menu a').forEach(link => { link.addEventListener('click', () => { mobileMenu.classList.add('hidden'); }); });
            
            const accordionData = [ { title: 'Fase 1: A Arquitetura do Sucesso (Preparação)', items: [ 'Ouse Sonhar', 'Estabeleça Metas Específicas', 'Arranje um Orientador', 'Comece com uma Visão Global', 'Busque o Princípio Fundamental' ] }, { title: 'Fase 2: A Arte da Absorção (Entrada)', items: [ 'Fontes de Qualidade', 'Reaprenda a Ler', 'Reforce com Imagens e Sons', 'Aprenda Fazendo', 'Desenhe Mapas Mentais' ] }, { title: 'Fase 3: A Ciência da Retenção (Consolidação)', items: [ 'Recuperação Ativa', 'Use Associações Mnemônicas', 'Aprenda em Vigília Relaxada', 'Pratique, Pratique, Pratique', 'Reveja e Reflita' ] }, { title: 'Fase 4: O Salto para a Maestria (Aplicação)', items: [ 'Divirta-se', 'Ensine os Outros', 'Metaprendizagem' ] } ];
            const accordionContainer = document.getElementById('accordion-container');
            let totalSteps = 0;
            accordionData.forEach((item) => {
                const content = item.items.map(step => {
                    totalSteps++;
                    const stepId = `step-${totalSteps}`;
                    return `<li class="flex justify-between items-center py-2 gap-4"><label for="${stepId}" class="flex items-center cursor-pointer flex-grow"><input type="checkbox" id="${stepId}" class="h-4 w-4 rounded border-gray-300 text-[#A88B79] focus:ring-[#A88B79] mr-3 progress-checkbox" data-step-id="${stepId}"><span><strong>${step}</strong></span></label><button class="explain-concept-btn text-sm bg-[#F4E9E1] text-[#A88B79] px-3 py-1 rounded-full hover:bg-[#E9DACE] transition flex-shrink-0" data-concept="${step}">✨ Explicar</button></li>`;
                }).join('');
                const accordionItem = document.createElement('div');
                accordionItem.classList.add('accordion-item', 'border', 'border-gray-200', 'rounded-lg', 'overflow-hidden');
                accordionItem.innerHTML = `<button class="accordion-header w-full text-left p-4 bg-white hover:bg-gray-50/80 transition flex justify-between items-center"><span class="font-semibold text-lg text-gray-700">${item.title}</span><span class="accordion-icon transition-transform duration-300"><svg class="w-6 h-6 text-[#A88B79]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></span></button><div class="accordion-content bg-gray-50/50"><div class="p-6"><ul class="space-y-2 text-gray-600">${content}</ul></div></div>`;
                accordionContainer.appendChild(accordionItem);
            });
            document.getElementById('progress-text').textContent = `0/${totalSteps} Passos`;
            document.querySelectorAll('.accordion-item').forEach(item => { item.querySelector('.accordion-header').addEventListener('click', () => { const currentlyActive = document.querySelector('.accordion-item.active'); if (currentlyActive && currentlyActive !== item) { currentlyActive.classList.remove('active'); } item.classList.toggle('active'); }); });
            
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const checkboxes = document.querySelectorAll('.progress-checkbox');
            function updateProgress() { const completedSteps = document.querySelectorAll('.progress-checkbox:checked').length; const percentage = (completedSteps / totalSteps) * 100; progressBar.style.width = `${percentage}%`; progressText.textContent = `${completedSteps}/${totalSteps} Passos`; const progressData = {}; checkboxes.forEach(checkbox => { progressData[checkbox.id] = checkbox.checked; }); localStorage.setItem('learningProgress', JSON.stringify(progressData)); }
            function loadProgress() { const savedProgress = JSON.parse(localStorage.getItem('learningProgress')); if (savedProgress) { checkboxes.forEach(checkbox => { if (savedProgress[checkbox.id]) { checkbox.checked = true; } }); } updateProgress(); }
            checkboxes.forEach(checkbox => checkbox.addEventListener('change', updateProgress));
            loadProgress();
            
            const apiKey = "AIzaSyDlRVsouUzWXXPv9v2MMSeALscyJA1OELs"; const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            async function callGeminiAPI(prompt, elementForLoader, elementForOutput) { if(elementForLoader) elementForLoader.style.display = 'flex'; if(elementForOutput) elementForOutput.innerHTML = ''; let chatHistory = [{ role: "user", parts: [{ text: prompt }] }]; const payload = { contents: chatHistory }; try { const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); const result = await response.json(); if (result.candidates && result.candidates[0].content.parts[0].text) { const responseText = result.candidates[0].content.parts[0].text; if(elementForOutput) elementForOutput.innerHTML = formatApiResponse(responseText); return responseText; } else { throw new Error("Resposta da API inválida."); } } catch (error) { console.error("Erro na API Gemini:", error); const errorMsg = "Desculpe, ocorreu um erro. Por favor, tente novamente."; if(elementForOutput) elementForOutput.innerHTML = errorMsg; return errorMsg; } finally { if(elementForLoader) elementForLoader.style.display = 'none'; if(elementForOutput) elementForOutput.classList.remove('hidden'); } }
            function formatApiResponse(text) { return text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\*(.*?)\*/g, '<em>$1</em>').replace(/^- (.*$)/gm, '<li class="ml-4">$1</li>').replace(/(<li.*>.*<\/li>)+/g, '<ul>$&</ul>').replace(/\n/g, '<br>'); }
            
            document.getElementById('generate-plan-btn').addEventListener('click', () => { const subject = document.getElementById('subject').value; const timeframe = document.getElementById('timeframe').value; const problem = document.getElementById('problem').value; const style = document.getElementById('style').value; if (!subject || !timeframe || !problem) { document.getElementById('plan-output').innerHTML = '<p class="text-red-500 text-center">Por favor, preencha todos os campos para um plano de ação eficaz.</p>'; return; } const prompt = `Crie um plano de estudos e ação detalhado para aprender "${subject}" em "${timeframe}". O objetivo principal é resolver o seguinte problema: "${problem}". O plano deve ser otimizado para um estilo de aprendizado "${style}". Estruture como um plano de ação prático, com fases, metas claras, recursos sugeridos e projetos aplicáveis para resolver o problema declarado.`; callGeminiAPI(prompt, document.getElementById('plan-loader'), document.getElementById('plan-output')); });
            
            document.querySelectorAll('.explain-concept-btn').forEach(button => { button.addEventListener('click', (e) => { e.stopPropagation(); const concept = e.target.dataset.concept; const modal = document.getElementById('gemini-modal'); modal.querySelector('.modal-content').classList.add('hidden'); modal.querySelector('.modal-loader').style.display = 'flex'; modal.querySelector('#modal-title').textContent = `Explicando: ${concept}`; openModal('gemini-modal'); const prompt = `Explique o conceito de "${concept}" no contexto de aprendizagem acelerada. Use uma linguagem simples e forneça um exemplo prático de como aplicar este conceito nos estudos.`; callGeminiAPI(prompt, modal.querySelector('.modal-loader'), modal.querySelector('.modal-content')); }); });

            function openModal(modalId) { const modal = document.getElementById(modalId); modal.classList.remove('hidden'); setTimeout(() => modal.classList.remove('opacity-0'), 10); }
            function closeModal(modal) { modal.classList.add('opacity-0'); setTimeout(() => modal.classList.add('hidden'), 300); }
            document.querySelectorAll('.open-tool-modal').forEach(btn => btn.addEventListener('click', () => openModal(btn.dataset.modalId)));
            document.querySelectorAll('.tool-modal').forEach(modal => { modal.addEventListener('click', e => { if (e.target === modal) closeModal(modal); }); modal.querySelector('.close-modal-btn').addEventListener('click', () => closeModal(modal)); });
            
            // Pomodoro Tool
            let timerInterval; let timeLeft = 25 * 60; const timerDisplay = document.getElementById('pomodoro-timer'); const startButton = document.getElementById('pomodoro-start'); const messageDisplay = document.getElementById('pomodoro-message');
            function updateTimerDisplay() { const minutes = Math.floor(timeLeft / 60); const seconds = timeLeft % 60; timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`; }
            function resetPomodoro() { clearInterval(timerInterval); timerInterval = null; timeLeft = 25 * 60; updateTimerDisplay(); startButton.textContent = 'Iniciar'; messageDisplay.textContent = ''; }
            startButton.addEventListener('click', () => { if (timerInterval) { clearInterval(timerInterval); timerInterval = null; startButton.textContent = 'Retomar'; } else { startButton.textContent = 'Pausar'; timerInterval = setInterval(() => { timeLeft--; updateTimerDisplay(); if (timeLeft <= 0) { messageDisplay.textContent = 'Sessão concluída! Faça uma pausa.'; resetPomodoro(); setTimeout(() => { messageDisplay.textContent = ''; }, 5000); } }, 1000); } });
            document.getElementById('pomodoro-reset').addEventListener('click', resetPomodoro);
            
            // Focus Music Tool
            let synth, pattern; const musicToggle = document.getElementById('focus-music-toggle'); let isMusicInitialized = false;
            async function initializeMusic() { if (isMusicInitialized) return; await Tone.start(); synth = new Tone.Synth().toDestination(); pattern = new Tone.Pattern((time, note) => { synth.triggerAttackRelease(note, "8n", time); }, ["C4", "E4", "G4", "B4"], "upDown"); pattern.interval = "4n"; Tone.Transport.bpm.value = 60; isMusicInitialized = true; }
            musicToggle.addEventListener('click', async () => { await initializeMusic(); if (Tone.Transport.state !== 'started') { Tone.Transport.start(); pattern.start(0); musicToggle.textContent = '❚❚'; } else { Tone.Transport.stop(); pattern.stop(); musicToggle.textContent = '▶'; } });

            // Learning Journal Tool
            const journalText = document.getElementById('learning-journal'); const saveJournalBtn = document.getElementById('save-journal');
            journalText.value = localStorage.getItem('learningJournal') || '';
            saveJournalBtn.addEventListener('click', () => { localStorage.setItem('learningJournal', journalText.value); saveJournalBtn.textContent = 'Salvo!'; saveJournalBtn.classList.remove('bg-[#A88B79]', 'hover:bg-[#937562]'); saveJournalBtn.classList.add('bg-green-500'); setTimeout(() => { saveJournalBtn.textContent = 'Salvar Anotação'; saveJournalBtn.classList.remove('bg-green-500'); saveJournalBtn.classList.add('bg-[#A88B79]', 'hover:bg-[#937562]'); }, 2000); });

            // Mindset Tool
            const mindsetQuizContainer = document.getElementById('mindset-quiz'); const mindsetResultContainer = document.getElementById('mindset-result'); const mindsetQuestions = [ { q: "Você acredita que a inteligência é algo que não pode ser muito alterado?", a: "fixed" }, { q: "Quando você falha em algo, você tende a pensar que não é bom naquilo?", a: "fixed" }, { q: "Você evita desafios por medo de não parecer inteligente?", a: "fixed" }, { q: "Você vê o esforço como um caminho para a maestria, não apenas algo que se faz quando não se é bom?", a: "growth" }, { q: "Você se inspira com o sucesso dos outros?", a: "growth" }, { q: "Você acredita que pode aprender qualquer coisa se se dedicar?", a: "growth" } ];
            mindsetQuizContainer.innerHTML = mindsetQuestions.map((item, index) => `<div class="mb-3"><p class="mb-2">${item.q}</p><label class="mr-4"><input type="radio" name="q${index}" value="sim"> Sim</label><label><input type="radio" name="q${index}" value="nao"> Não</label></div>`).join('') + '<button id="submit-mindset" class="w-full bg-[#A88B79] text-white py-2 rounded-lg hover:bg-[#937562]">Ver Resultado</button>';
            document.getElementById('submit-mindset').addEventListener('click', () => { let fixedScore = 0, growthScore = 0; mindsetQuestions.forEach((item, index) => { const answer = document.querySelector(`input[name="q${index}"]:checked`); if (answer) { const isYes = answer.value === 'sim'; if ((item.a === 'fixed' && isYes) || (item.a === 'growth' && !isYes)) fixedScore++; else growthScore++; } }); let resultText; let prompt; if (growthScore > fixedScore) { resultText = "<strong>Parabéns! Você demonstra um Mindset de Crescimento.</strong> Você acredita na sua capacidade de aprender e evoluir. Continue abraçando desafios e vendo o esforço como o caminho para o sucesso."; prompt = "Gere 3 dicas avançadas e personalizadas para alguém que já possui um mindset de crescimento fortalecer ainda mais essa mentalidade e aplicá-la em desafios complexos de aprendizagem."; } else { resultText = "<strong>Você parece tender a um Mindset Fixo.</strong> A boa notícia é que isso pode ser mudado! Acreditar que suas habilidades podem ser desenvolvidas é o primeiro passo para desbloquear seu potencial."; prompt = "Gere 3 dicas práticas e encorajadoras para uma pessoa com mindset fixo começar a desenvolver um mindset de crescimento. Foque em passos pequenos e acionáveis."; } mindsetResultContainer.innerHTML = resultText; callGeminiAPI(prompt, null, mindsetResultContainer); });

            // Charter Tool
            document.getElementById('generate-charter-btn').addEventListener('click', () => { const subject = document.getElementById('group-subject').value; const members = document.getElementById('group-members').value; const goal = document.getElementById('group-goal').value; if(!subject || !members || !goal) { alert("Preencha todos os campos."); return; } const prompt = `Crie um "Contrato de Grupo de Estudos" para um grupo que vai estudar "${subject}". Os membros são: ${members}. O objetivo principal é: "${goal}". O contrato deve ser positivo e colaborativo, incluindo seções para: 1. Missão do Grupo. 2. Metas Específicas. 3. Regras de Compromisso (frequência, preparação). 4. Papéis (líder da sessão, anotador, etc.). 5. Como o grupo vai lidar com desacordos.`; callGeminiAPI(prompt, null, document.getElementById('charter-result')); });

            // Environment Tool
            const envChecklistContainer = document.getElementById('environment-checklist'); const envItems = [ { id: 'env1', text: 'Espaço de estudo dedicado e organizado.' }, { id: 'env2', text: 'Notificações do celular e computador desativadas durante o estudo.' }, { id: 'env3', text: 'Comuniquei meus horários de foco para família/amigos.' }, { id: 'env4', text: 'Iluminação e ventilação adequadas.' }, { id: 'env5', text: 'Acesso fácil a água e lanches saudáveis.' }, { id: 'env6', text: 'Tenho um grupo de apoio ou parceiro de estudos.' } ];
            envChecklistContainer.innerHTML = envItems.map(item => `<label for="${item.id}" class="flex items-center"><input type="checkbox" id="${item.id}" class="h-4 w-4 rounded border-gray-300 text-[#A88B79] focus:ring-[#A88B79] mr-3 env-checkbox"><span>${item.text}</span></label>`).join('');
            const envCheckboxes = document.querySelectorAll('.env-checkbox'); envCheckboxes.forEach(cb => cb.addEventListener('change', () => { const data = {}; envCheckboxes.forEach(c => data[c.id] = c.checked); localStorage.setItem('envChecklist', JSON.stringify(data)); }));
            const savedEnv = JSON.parse(localStorage.getItem('envChecklist')); if(savedEnv) { envCheckboxes.forEach(c => { if(savedEnv[c.id]) c.checked = true; }); }
            
            // Spaced Repetition Tool
            document.getElementById('plan-reviews-btn').addEventListener('click', () => { const concept = document.getElementById('concept-input').value; if(!concept) { alert("Por favor, insira um conceito."); return; } const today = new Date(); const d1 = new Date(today); d1.setDate(d1.getDate() + 1); const d2 = new Date(today); d2.setDate(d2.getDate() + 7); const d3 = new Date(today); d3.setDate(d3.getDate() + 30); const d4 = new Date(today); d4.setDate(d4.getDate() + 90); const formatDate = (date) => date.toLocaleDateString('pt-BR'); document.getElementById('review-dates').innerHTML = `<h4>Plano de Revisão para "${concept}":</h4><ul><li>Revisão 1 (Amanhã): <strong>${formatDate(d1)}</strong></li><li>Revisão 2 (Em 1 semana): <strong>${formatDate(d2)}</strong></li><li>Revisão 3 (Em 1 mês): <strong>${formatDate(d3)}</strong></li><li>Revisão 4 (Em 3 meses): <strong>${formatDate(d4)}</strong></li></ul><p>Adicione estas datas ao seu calendário!</p>`; document.getElementById('review-dates').classList.remove('hidden'); });

            // Guide Modal Content
            const guideContent = {
                neuroscience: {
                    title: "Neurociência: O Cérebro Físico",
                    content: `<h4>Fórmula Chave: Neuroplasticidade (Lei de Hebb)</h4><p>"Neurônios que disparam juntos, conectam-se." Cada vez que você pratica uma habilidade ou recorda uma informação, a conexão física entre os neurônios envolvidos se fortalece.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Sono de Qualidade:</strong> É durante o sono profundo que o cérebro consolida as memórias do dia. Sem 7-9 horas de sono, esse processo é severamente prejudicado.</li><li><strong>Exercício Físico:</strong> Aumenta o fluxo sanguíneo para o cérebro e estimula a produção de BDNF, um "fertilizante" para os neurônios.</li><li><strong>Nutrição Cerebral:</strong> Alimentos ricos em ômega-3, antioxidantes e vitaminas do complexo B são essenciais para a saúde neuronal.</li><li><strong>Gerenciamento de Estresse:</strong> O estresse crônico libera cortisol, que pode danificar neurônios e dificultar a criação de novas memórias.</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>Privação de Sono</li><li>Estresse Crônico</li><li>Sedentarismo e Dieta Pobre</li><li>Falta de Novidade e Desafio</li></ul>`
                },
                cognitive: {
                    title: "Ciência Cognitiva: O Processo Mental",
                    content: `<h4>Fórmula Chave: A Equação da Memória</h4><p>Memória Duradoura = Codificação Profunda + Consolidação + Recuperação Ativa.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Prática de Recuperação (Retrieval Practice):</strong> O ato de forçar o cérebro a lembrar é a forma mais poderosa de fortalecer a memória.</li><li><strong>Elaboração:</strong> Conecte a nova informação com o que você já sabe.</li><li><strong>Intercalação (Interleaving):</strong> Alterne entre diferentes tópicos para forçar o cérebro a diferenciar conceitos.</li><li><strong>Aprendizado Multissensorial:</strong> Codifique a informação usando múltiplos sentidos (visual, auditivo, cinestésico).</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>A Ilusão de Competência (reconhecer não é saber)</li><li>Sobrecarga Cognitiva</li><li>Aprendizagem Descontextualizada</li></ul>`
                },
                educational: {
                    title: "Psicologia Educacional: Motivação e Mentalidade",
                    content: `<h4>Fórmula Chave: A Equação da Motivação Intrínseca</h4><p>Motivação = Autonomia + Maestria + Propósito.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Cultivar um "Growth Mindset":</strong> Acredite que a inteligência pode ser desenvolvida.</li><li><strong>Definir Metas SMART:</strong> Específicas, Mensuráveis, Atingíveis, Relevantes e com Prazo.</li><li><strong>Focar no Processo, não no Resultado:</strong> Celebre o esforço e a consistência.</li><li><strong>Buscar Feedback Construtivo:</strong> Veja o feedback como um mapa para a melhoria.</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>"Fixed Mindset" (Mentalidade Fixa)</li><li>Medo do Fracasso</li><li>Desamparo Aprendido</li><li>Falta de Autonomia</li></ul>`
                },
                social: {
                    title: "Psicologia Social: O Poder do Grupo",
                    content: `<h4>Fórmula Chave: Aprendizagem Vicária (Modelagem)</h4><p>Aprendemos observando as ações, os sucessos e os fracassos dos outros.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Ensinar para Aprender (Efeito Protegido):</strong> A forma mais eficaz de solidificar um conhecimento.</li><li><strong>Comunidades de Prática:</strong> Participe de grupos de estudo, fóruns, etc.</li><li><strong>Encontrar Mentores:</strong> Busque a orientação de quem já trilhou o caminho.</li><li><strong>Parceria de Responsabilidade:</strong> Tenha um colega com quem você compartilha suas metas.</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>Comparação Social Negativa</li><li>Isolamento</li><li>Efeito Pigmaleão Negativo (baixas expectativas)</li></ul>`
                },
                andragogy: {
                    title: "Andragogia: A Aprendizagem do Adulto",
                    content: `<h4>Fórmula Chave: Aprendizagem Orientada a Problemas</h4><p>Adultos são motivados a aprender quando veem uma necessidade de aplicar o conhecimento para resolver um problema imediato.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Comece com o "Porquê":</strong> Qual problema real isso vai me ajudar a resolver?</li><li><strong>Conecte com a Experiência:</strong> Use sua bagagem de vida como uma fundação.</li><li><strong>Busque Aplicação Imediata:</strong> Planeje como você vai usar o novo conhecimento na próxima semana.</li><li><strong>Seja Autodirigido:</strong> Assuma o controle do seu caminho de aprendizado.</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>Falta de Relevância Percebida</li><li>Abordagens Pedagógicas (ser tratado de forma passiva)</li><li>Falta de Tempo e Múltiplas Responsabilidades</li></ul>`
                },
                sociology: {
                    title: "Sociologia da Educação: O Contexto Importa",
                    content: `<h4>Fórmula Chave: Capital Cultural</h4><p>O conjunto de conhecimentos e experiências que você traz do seu background influencia sua jornada de aprendizado.</p><h4>Práticas Essenciais:</h4><ul><li><strong>Otimizar o Ambiente Físico:</strong> Crie um espaço de estudo dedicado e livre de distrações.</li><li><strong>Construir uma Rede de Apoio:</strong> Cerque-se de pessoas que apoiam seus objetivos.</li><li><strong>Buscar "Pontes" Culturais:</strong> Encontre recursos que apresentem o assunto de forma que se conecte com sua realidade.</li><li><strong>Consciência dos Recursos:</strong> Crie um plano realista que se ajuste aos recursos que você tem.</li></ul><h4>O Que Impede o Aprendizado:</h4><ul><li>Falta de Recursos (tempo, dinheiro, acesso)</li><li>Desalinhamento Cultural</li><li>Estereótipos e Vieses</li></ul>`
                }
            };

            const guideModal = document.getElementById('guide-modal');
            const guideModalTitle = document.getElementById('guide-modal-title');
            const guideModalContent = document.getElementById('guide-modal-content');

            document.querySelectorAll('.open-guide-modal').forEach(button => {
                button.addEventListener('click', () => {
                    const guideKey = button.dataset.guide;
                    const data = guideContent[guideKey];
                    if (data) {
                        guideModalTitle.textContent = data.title;
                        guideModalContent.innerHTML = data.content;
                        openModal('guide-modal');
                    }
                });
            });

        });
    </script>
</body>
</html>
